<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Price</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style1.css') }}">

</head>

<body>
    <div>
        <nav class="nav">
            <a class="nav-link" href="{{ url_for('home') }}">Home</a>
            <a class="nav-link" href="{{ url_for('pop_cars') }}">Popular Cars</a>
            <a class="nav-link" href="{{ url_for('about') }}">About</a>
            <a class="nav-link disable" href="#"  disabled tabindex="-1">Disabled <span class=invis>This section is disabled</span></a>
            <form class="nav-link g-search" method="GET" action="https://www.google.com/search" target="_blank">
                <input class="search-text" type="search" name="q" placeholder="Search">
                <button class="btn-success" type="submit">Google Search</button>
            </form>
        </nav>
    </div>

    <h1>Car Price Prediction</h1> 

    <div class="home-container">
        <div class="leftpane">
            <h2>News/Highlights</h2>
            <ul>
                <li>Cars Prices are rising.</li><br><br>
                <li>New cars provide better mileage.</li><br><br>
                <li>SUV is getting popular</li><br><br>
                <li>Chip shortage and supply change are getting worst.</li><br><br>
                <li>Most car companies are switching towards electic vehicles</li><br><br>
                <li>New or Used Car, what do you prefer?</li><br><br>
                <li>Insurance protect your vehicle from hail damage!</li><br><br>
            </ul>
             <!-- The picture is obtained from seekpng.com 
            https://www.seekpng.com/ipng/u2q8r5w7q8a9t4y3_image-106338-car-logos-1-car-logos-in/ -->
            <img src="{{ url_for('static', filename='img/CarsLogos1.png') }}" alt="Car Logos" class="logos">
            
        </div>

        <form action="{{ url_for('results') }}" method="POST" class="carinfo middlepane middle-border" target="_blank">
            <h2>Car Information</h2>
            <p style="color: red; font-style: italic;">Note: All information required</p>
            <label for="year" class="infolbl">Year</label><br>
            <input type="number" name="year" id="f1" placeholder="YYYY" class="infolbl2" min="1900" max="2021" step="1" required><br><br>
            <label for="make" class="infolbl">Make</label><br>
            <select name="make" id="f2" class="infolbl2" onchange="modellist()" required>
                <option value="" selected>Select a Make</option>
                {% for item in mmt[0] %}
                    <option value={{item}}>{{item}}</option>
                {% endfor %}
            </select><br><br>
            <label for="model" class="infolbl">Model</label><br>
            <select name="model" id="f3" class="infolbl2" onchange="trimlist()" required>
                <option value="" selected>Select a Model</option>
                {% for item in mmt[1]['Empty_Placeholder'] %}
                    <option value={{item}}>{{item}}</option>
                {% endfor %}
            </select><br><br>
            <label for="trim" class="infolbl">Trim</label><br>
            <select name="trim" id="f4" class="infolbl2" required>   
                <option value="" selected>Select a Trim</option>
                {% for item in mmt[2]['Empty_Placeholder'] %}
                    <option value={{item}}>{{item}}</option>
                {% endfor %}
            </select><br><br>
            <label for="carbody" class="infolbl">Body Type</label><br>
            <select name="carbody" id="f5" class="infolbl2" required>
                <option value="" selected>Select a Body</option>
                <option value="SEDAN">SEDAN</option>
                <option value="SUV">SUV</option>
                <option value="COUPE">COUPE</option>
                <option value="HATCHBACK">HATCHBACK</option>
                <option value="CONVERTIBLE">CONVERTIBLE</option>
                <option value="VAN">VAN</option>
                <option value="CAB">CAB</option>
                <option value="OTHER">OTHER</option>
            </select><br><br>
            <label for="state" class="infolbl">State</label><br>
            <select name="state" id="f6" class="infolbl2" required>
                <option value="" selected>Select a State</option>
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AZ">Arizona</option>
                <option value="AR">Arkansas</option>
                <option value="CA">California</option>
                <option value="CO">Colorado</option>
                <option value="CT">Connecticut</option>
                <option value="DE">Delaware</option>
                <option value="DC">District Of Columbia</option>
                <option value="FL">Florida</option>
                <option value="GA">Georgia</option>
                <option value="HI">Hawaii</option>
                <option value="ID">Idaho</option>
                <option value="IL">Illinois</option>
                <option value="IN">Indiana</option>
                <option value="IA">Iowa</option>
                <option value="KS">Kansas</option>
                <option value="KY">Kentucky</option>
                <option value="LA">Louisiana</option>
                <option value="ME">Maine</option>
                <option value="MD">Maryland</option>
                <option value="MA">Massachusetts</option>
                <option value="MI">Michigan</option>
                <option value="MN">Minnesota</option>
                <option value="MS">Mississippi</option>
                <option value="MO">Missouri</option>
                <option value="MT">Montana</option>
                <option value="NE">Nebraska</option>
                <option value="NV">Nevada</option>
                <option value="NH">New Hampshire</option>
                <option value="NJ">New Jersey</option>
                <option value="NM">New Mexico</option>
                <option value="NY">New York</option>
                <option value="NC">North Carolina</option>
                <option value="ND">North Dakota</option>
                <option value="OH">Ohio</option>
                <option value="OK">Oklahoma</option>
                <option value="OR">Oregon</option>
                <option value="PA">Pennsylvania</option>
                <option value="RI">Rhode Island</option>
                <option value="SC">South Carolina</option>
                <option value="SD">South Dakota</option>
                <option value="TN">Tennessee</option>
                <option value="TX">Texas</option>
                <option value="UT">Utah</option>
                <option value="VT">Vermont</option>
                <option value="VA">Virginia</option>
                <option value="WA">Washington</option>
                <option value="WV">West Virginia</option>
                <option value="WI">Wisconsin</option>
                <option value="WY">Wyoming</option>
            </select><br><br>
            <label for="transmission" class="infolbl">Transmission</label><br>
            <select name="transmission" id="f7" class="infolbl2" required>
                <option value="" selected>Select transmission</option>
                <option value="Automatic">Automatic</option>
                <option value="Manual">Manual</option>
            </select><br><br>
            <label for="condition" class="infolbl">Condition</label><br>
            <select name="condition" id="f8" class="infolbl2" required>
                <option value="" selected>Select Condition</option>
                <option value="Excellent">Excellent</option>
                <option value="Good">Good</option>
                <option value="Average">Average</option>
                <option value="Poor">Poor</option>
                <option value="Bad">Bad</option>
            </select><br><br>
            <label for="odometer" class="infolbl">Odometer Reading</label><br>
            <input name="odometer" type="number" id="f9" placeholder="Enter number" class="infolbl2" required><br><br>
            <!-- <label for="mmr" class="infolbl">MMR Price</label><br>
            <input name="mmr" type="number" id="f10" placeholder="Enter number" class="infolbl2" required><br><br> -->
            <input type="submit" id="submit" value="Get Price" class="infolbl2"><br>
        </form>

        <div class="rightpane">
            <!-- The picture is obtained from seekpng.com 
            https://www.seekpng.com/ipng/u2q8q8a9t4o0q8u2_price-tag-price-tag-icon-png/ -->
            <img src="{{ url_for('static', filename='img/Price.png') }}" alt="Price Tag" class="logos">
           <p class="animate"><span style="font-weight: bold;">Disclaimer:</span> This web application is only created for personal learning and training purpose. </p>
        </div>
    </div>

    <script>
        function modellist() {
            let carmake = document.getElementById('f2').value;
            document.getElementById('f3').options.length=1;
            let carmodel = document.getElementById('f3');
            let m_dict = {{mmt[1] | safe}};
            let m_list = m_dict[carmake];
            //carmodel.options[0] = new Option('Select a Model', '', true, false);
            for (var i=0; i < m_list.length; i++) {
                let o = document.createElement('option');
                o.value = m_list[i];
                o.text = m_list[i];
                carmodel.appendChild(o);
            }

        }

        function trimlist() {
            let carmodel = document.getElementById('f3').value;
            document.getElementById('f4').options.length=1;
            let cartrim = document.getElementById('f4');
            let t_dict = {{mmt[2] | safe}};
            let t_list = t_dict[carmodel];
            for (var i=0; i < t_list.length; i++) {
                let o = document.createElement('option');
                o.value = t_list[i];
                o.text = t_list[i];
                cartrim.appendChild(o);
            }
        }

        function test() {
            alert('Unknown alert');
        }
    </script>

</body>

</html>